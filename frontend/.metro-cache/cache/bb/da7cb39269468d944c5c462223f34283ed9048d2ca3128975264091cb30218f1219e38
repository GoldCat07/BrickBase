{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":43,"index":122}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":178},"end":{"line":4,"column":37,"index":215}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _libSupabase = require(_dependencyMap[1], \"../lib/supabase\");\n  var _expoRouter = require(_dependencyMap[2], \"expo-router\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    session: null,\n    user: null,\n    loading: true,\n    signIn: async () => {},\n    signOut: async () => {}\n  });\n  const useAuth = () => (0, _react.useContext)(AuthContext);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      // Check active session\n      _libSupabase.supabase.auth.getSession().then(({\n        data: {\n          session\n        }\n      }) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        setLoading(false);\n      });\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _libSupabase.supabase.auth.onAuthStateChange((_event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        setLoading(false);\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n    const signIn = async (email, password) => {\n      const {\n        data,\n        error\n      } = await _libSupabase.supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n      if (error) throw error;\n      if (data.session) {\n        setSession(data.session);\n        setUser(data.user);\n        _expoRouter.router.replace('/(tabs)/add');\n      }\n    };\n    const signOut = async () => {\n      await _libSupabase.supabase.auth.signOut();\n      setSession(null);\n      setUser(null);\n      _expoRouter.router.replace('/login');\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        session,\n        user,\n        loading,\n        signIn,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":98,"map":[[8,2,22,0,"Object"],[8,8,22,0],[8,9,22,0,"defineProperty"],[8,23,22,0],[8,24,22,0,"exports"],[8,31,22,0],[9,4,22,0,"enumerable"],[9,14,22,0],[10,4,22,0,"get"],[10,7,22,0],[10,18,22,0,"get"],[10,19,22,0],[11,6,22,0],[11,13,22,0,"useAuth"],[11,20,22,0],[12,4,22,0],[13,2,22,0],[14,2,24,0,"Object"],[14,8,24,0],[14,9,24,0,"defineProperty"],[14,23,24,0],[14,24,24,0,"exports"],[14,31,24,0],[15,4,24,0,"enumerable"],[15,14,24,0],[16,4,24,0,"get"],[16,7,24,0],[16,18,24,0,"get"],[16,19,24,0],[17,6,24,0],[17,13,24,0,"AuthProvider"],[17,25,24,0],[18,4,24,0],[19,2,24,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_libSupabase"],[21,18,2,0],[21,21,2,0,"require"],[21,28,2,0],[21,29,2,0,"_dependencyMap"],[21,43,2,0],[22,2,4,0],[22,6,4,0,"_expoRouter"],[22,17,4,0],[22,20,4,0,"require"],[22,27,4,0],[22,28,4,0,"_dependencyMap"],[22,42,4,0],[23,2,4,37],[23,6,4,37,"_reactJsxDevRuntime"],[23,25,4,37],[23,28,4,37,"require"],[23,35,4,37],[23,36,4,37,"_dependencyMap"],[23,50,4,37],[24,2,14,0],[24,8,14,6,"AuthContext"],[24,19,14,17],[24,35,14,20],[24,39,14,20,"createContext"],[24,45,14,33],[24,46,14,33,"createContext"],[24,59,14,33],[24,61,14,51],[25,4,15,2,"session"],[25,11,15,9],[25,13,15,11],[25,17,15,15],[26,4,16,2,"user"],[26,8,16,6],[26,10,16,8],[26,14,16,12],[27,4,17,2,"loading"],[27,11,17,9],[27,13,17,11],[27,17,17,15],[28,4,18,2,"signIn"],[28,10,18,8],[28,12,18,10],[28,18,18,10,"signIn"],[28,19,18,10],[28,24,18,22],[28,25,18,23],[28,26,18,24],[29,4,19,2,"signOut"],[29,11,19,9],[29,13,19,11],[29,19,19,11,"signOut"],[29,20,19,11],[29,25,19,23],[29,26,19,24],[30,2,20,0],[30,3,20,1],[30,4,20,2],[31,2,22,7],[31,8,22,13,"useAuth"],[31,15,22,20],[31,18,22,23,"useAuth"],[31,19,22,23],[31,24,22,29],[31,28,22,29,"useContext"],[31,34,22,39],[31,35,22,39,"useContext"],[31,45,22,39],[31,47,22,40,"AuthContext"],[31,58,22,51],[31,59,22,52],[32,2,24,7],[32,8,24,13,"AuthProvider"],[32,20,24,25],[32,23,24,28,"AuthProvider"],[32,24,24,29],[33,4,24,31,"children"],[34,2,24,71],[34,3,24,72],[34,8,24,77],[35,4,25,2],[35,10,25,8],[35,11,25,9,"session"],[35,18,25,16],[35,20,25,18,"setSession"],[35,30,25,28],[35,31,25,29],[35,34,25,32],[35,38,25,32,"useState"],[35,44,25,40],[35,45,25,40,"useState"],[35,53,25,40],[35,55,25,57],[35,59,25,61],[35,60,25,62],[36,4,26,2],[36,10,26,8],[36,11,26,9,"user"],[36,15,26,13],[36,17,26,15,"setUser"],[36,24,26,22],[36,25,26,23],[36,28,26,26],[36,32,26,26,"useState"],[36,38,26,34],[36,39,26,34,"useState"],[36,47,26,34],[36,49,26,48],[36,53,26,52],[36,54,26,53],[37,4,27,2],[37,10,27,8],[37,11,27,9,"loading"],[37,18,27,16],[37,20,27,18,"setLoading"],[37,30,27,28],[37,31,27,29],[37,34,27,32],[37,38,27,32,"useState"],[37,44,27,40],[37,45,27,40,"useState"],[37,53,27,40],[37,55,27,41],[37,59,27,45],[37,60,27,46],[38,4,29,2],[38,8,29,2,"useEffect"],[38,14,29,11],[38,15,29,11,"useEffect"],[38,24,29,11],[38,26,29,12],[38,32,29,18],[39,6,30,4],[40,6,31,4,"supabase"],[40,18,31,12],[40,19,31,12,"supabase"],[40,27,31,12],[40,28,31,13,"auth"],[40,32,31,17],[40,33,31,18,"getSession"],[40,43,31,28],[40,44,31,29],[40,45,31,30],[40,46,31,31,"then"],[40,50,31,35],[40,51,31,36],[40,52,31,37],[41,8,31,39,"data"],[41,12,31,43],[41,14,31,45],[42,10,31,47,"session"],[43,8,31,55],[44,6,31,57],[44,7,31,58],[44,12,31,63],[45,8,32,6,"setSession"],[45,18,32,16],[45,19,32,17,"session"],[45,26,32,24],[45,27,32,25],[46,8,33,6,"setUser"],[46,15,33,13],[46,16,33,14,"session"],[46,23,33,21],[46,25,33,23,"user"],[46,29,33,27],[46,33,33,31],[46,37,33,35],[46,38,33,36],[47,8,34,6,"setLoading"],[47,18,34,16],[47,19,34,17],[47,24,34,22],[47,25,34,23],[48,6,35,4],[48,7,35,5],[48,8,35,6],[50,6,37,4],[51,6,38,4],[51,12,38,10],[52,8,38,12,"data"],[52,12,38,16],[52,14,38,18],[53,10,38,20,"subscription"],[54,8,38,33],[55,6,38,35],[55,7,38,36],[55,10,38,39,"supabase"],[55,22,38,47],[55,23,38,47,"supabase"],[55,31,38,47],[55,32,38,48,"auth"],[55,36,38,52],[55,37,38,53,"onAuthStateChange"],[55,54,38,70],[55,55,38,71],[55,56,38,72,"_event"],[55,62,38,78],[55,64,38,80,"session"],[55,71,38,87],[55,76,38,92],[56,8,39,6,"setSession"],[56,18,39,16],[56,19,39,17,"session"],[56,26,39,24],[56,27,39,25],[57,8,40,6,"setUser"],[57,15,40,13],[57,16,40,14,"session"],[57,23,40,21],[57,25,40,23,"user"],[57,29,40,27],[57,33,40,31],[57,37,40,35],[57,38,40,36],[58,8,41,6,"setLoading"],[58,18,41,16],[58,19,41,17],[58,24,41,22],[58,25,41,23],[59,6,42,4],[59,7,42,5],[59,8,42,6],[60,6,44,4],[60,13,44,11],[60,19,44,17,"subscription"],[60,31,44,29],[60,32,44,30,"unsubscribe"],[60,43,44,41],[60,44,44,42],[60,45,44,43],[61,4,45,2],[61,5,45,3],[61,7,45,5],[61,9,45,7],[61,10,45,8],[62,4,47,2],[62,10,47,8,"signIn"],[62,16,47,14],[62,19,47,17],[62,25,47,17,"signIn"],[62,26,47,24,"email"],[62,31,47,37],[62,33,47,39,"password"],[62,41,47,55],[62,46,47,60],[63,6,48,4],[63,12,48,10],[64,8,48,12,"data"],[64,12,48,16],[65,8,48,18,"error"],[66,6,48,24],[66,7,48,25],[66,10,48,28],[66,16,48,34,"supabase"],[66,28,48,42],[66,29,48,42,"supabase"],[66,37,48,42],[66,38,48,43,"auth"],[66,42,48,47],[66,43,48,48,"signInWithPassword"],[66,61,48,66],[66,62,48,67],[67,8,49,6,"email"],[67,13,49,11],[68,8,50,6,"password"],[69,6,51,4],[69,7,51,5],[69,8,51,6],[70,6,53,4],[70,10,53,8,"error"],[70,15,53,13],[70,17,53,15],[70,23,53,21,"error"],[70,28,53,26],[71,6,55,4],[71,10,55,8,"data"],[71,14,55,12],[71,15,55,13,"session"],[71,22,55,20],[71,24,55,22],[72,8,56,6,"setSession"],[72,18,56,16],[72,19,56,17,"data"],[72,23,56,21],[72,24,56,22,"session"],[72,31,56,29],[72,32,56,30],[73,8,57,6,"setUser"],[73,15,57,13],[73,16,57,14,"data"],[73,20,57,18],[73,21,57,19,"user"],[73,25,57,23],[73,26,57,24],[74,8,58,6,"router"],[74,19,58,12],[74,20,58,12,"router"],[74,26,58,12],[74,27,58,13,"replace"],[74,34,58,20],[74,35,58,21],[74,48,58,34],[74,49,58,35],[75,6,59,4],[76,4,60,2],[76,5,60,3],[77,4,62,2],[77,10,62,8,"signOut"],[77,17,62,15],[77,20,62,18],[77,26,62,18,"signOut"],[77,27,62,18],[77,32,62,30],[78,6,63,4],[78,12,63,10,"supabase"],[78,24,63,18],[78,25,63,18,"supabase"],[78,33,63,18],[78,34,63,19,"auth"],[78,38,63,23],[78,39,63,24,"signOut"],[78,46,63,31],[78,47,63,32],[78,48,63,33],[79,6,64,4,"setSession"],[79,16,64,14],[79,17,64,15],[79,21,64,19],[79,22,64,20],[80,6,65,4,"setUser"],[80,13,65,11],[80,14,65,12],[80,18,65,16],[80,19,65,17],[81,6,66,4,"router"],[81,17,66,10],[81,18,66,10,"router"],[81,24,66,10],[81,25,66,11,"replace"],[81,32,66,18],[81,33,66,19],[81,41,66,27],[81,42,66,28],[82,4,67,2],[82,5,67,3],[83,4,69,2],[83,24,70,4],[83,28,70,4,"_reactJsxDevRuntime"],[83,47,70,4],[83,48,70,4,"jsxDEV"],[83,54,70,4],[83,56,70,5,"AuthContext"],[83,67,70,16],[83,68,70,17,"Provider"],[83,76,70,25],[84,6,70,26,"value"],[84,11,70,31],[84,13,70,33],[85,8,70,35,"session"],[85,15,70,42],[86,8,70,44,"user"],[86,12,70,48],[87,8,70,50,"loading"],[87,15,70,57],[88,8,70,59,"signIn"],[88,14,70,65],[89,8,70,67,"signOut"],[90,6,70,75],[90,7,70,77],[91,6,70,77,"children"],[91,14,70,77],[91,16,71,7,"children"],[92,4,71,15],[93,6,71,15,"fileName"],[93,14,71,15],[93,16,71,15,"_jsxFileName"],[93,28,71,15],[94,6,71,15,"lineNumber"],[94,16,71,15],[95,6,71,15,"columnNumber"],[95,18,71,15],[96,4,71,15],[96,11,72,26],[96,12,72,27],[97,2,74,0],[97,3,74,1],[98,0,74,2],[98,3]],"functionMap":{"names":["<global>","createContext$argument_0.signIn","createContext$argument_0.signOut","useAuth","AuthProvider","useEffect$argument_0","supabase.auth.getSession.then$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","signIn","signOut"],"mappings":"AAA;UCiB,cD;WEC,cF;uBGG,6BH;4BIE;YCK;oCCE;KDI;uEEG;KFI;WGE,gCH;GDC;iBKE;GLa;kBME;GNK;CJO"},"hasCjsExports":false},"type":"js/module"}]}